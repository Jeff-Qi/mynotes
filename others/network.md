## 高级数据链路控制（High-level Data Link Control，HDLC）

####  简介
- HDLC，它是一种ISO标准数据链路层协议，用于封装同步串行链路上的数据
- 高级数据链路控制，面向比特的链路层协议
- HDLC协议族中的协议运行于同步串行线路上

#### 特点
1. 协议不依赖于任何一种字符编码集；
2. 数据报文可透明传输，用于透明传输的“0比特插入法”易于硬件实现；
3. 全双工通讯，不必等待确认可连续发送数据，有较高的数据链路传输效率；
4. 所有帧均采用CRC校验，对信息帧进行顺序编号，可防止漏收或重收，传输可靠性高；
5. 传输控制功能与处理功能分离，具有较大的灵活性和较完善的控制功能。
标准HDLC协议族中的协议都是运行于同步串行线路之上。

#### 帧格式
- 格式
  - HDLC的完整的帧由标志字段（F）、地址字段（A）、控制字段（C）、信息字段（I）、帧校验序列字段（FCS）等组成
- HDLC有信息帧（I帧）、监控帧（S帧）和无编号帧（U帧）3种不同类型的帧
  1. 信息帧（I帧）
    - 信息帧用于传送有效信息或数据，通常简称为I帧。
  2. 监控帧（S帧）
    - 监控帧用于差错控制和流量控制，通常称为S帧。S帧的标志是控制字段的前两个比特位为“10”。S帧不带信息字段，只有6个字节即48个比特。
  3. 无编号帧（U帧）
    - 无编号帧简称U帧。U帧用于提供对链路的建立、拆除以及多种控制功能

## 点到点协议（Point-to-Point Protocol，PPP）

#### 简介

- PPP提供了一个在点到点链路上传输多协议数据包的标准方法
- PPP协议在TCP/IP协议栈中位于数据链路层，是目前应用最广泛的点到点链路层协议
- PPP协议通常用于串行链路、ATM链路和SDH链路上，封装和发送IP数据包

#### 三个协议组件

- 数据封装方式，链路控制协议（Link Control Protocol，LCP）和网络层控制协议（Network Control Protocol，NCP）

组件名称 | 作用
---|---
数据封装方式 | 定义封装多协议数据包的方法
链路控制协议 Link Control Protocol | 定义建立、协商和测试数据链路层连接的方法
网络层控制协议 Network Control Protocol | 包含一组协议，用于对不同的网络层协议进行连接建立和参数协商

#### ppp数据帧

- PPP数据帧的封装方式用于区别不同上层协议的数据包。PPP封装方式非常简单，只包含三个字段
  1. Protocol：协议域，长度为两个字节，标识此PPP数据帧中封装的协议类型
  2. Information：信息域，被PPP封装的数据，例如LCP数据，NCP数据，网络层数据包等。此字段的长度是可变的
  3. Padding：填充域。用于填充信息域
- PPP的最大接收单元（Maximum Receive Unit，MRU），MRU默认为1500字节

#### LCP链路层参数协商所使用的报文

- LCP链路层参数协商所使用的报文有四种类型。
  1. Configure-Request：（配置请求）链路层协商过程中出现的第一个报文，该报文表明点对点双方开始进行链路层参数的协商。
  2. Configure-Ack：（配置响应）收到对端发来的Configure-Request报文，如果协商的参数取值完全接受，则以此报文响应。
  3. Configure-Nak：（配置不响应）收到对端发来的Configure-Request报文，如果协商的参数取值不被本端认可，则发送此报文并且携带本端可接受的配置参数。
  4. Configure-Reject：（配置拒绝）收到对端发来的Configure-Request报文，如果本地不能识别对端发送的Configure-Request中的参数，则发送此报文并且携带那些本端不能认别的配置参数。

#### CHAP认证方式需要交互三次报文，用户名和密码信息加密发送

#### IPCP协商的参数主要是IP地址
